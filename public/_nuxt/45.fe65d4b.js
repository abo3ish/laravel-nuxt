(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{219:function(e,t,r){"use strict";r.r(t);r(30);var d=r(10),o={layout:"admin",middleware:"auth",components:{HeaderInfo:r(326).a},head:function(){return{title:this.order.uuid}},data:function(){return{order:{id:"",uuid:"",user:{},address:{},type:"",status:{},services:{},drugs:{},attachments:[],prices:{},profits:{},created_at:"",is_collected:"",service_provider_type:"",service_provider:{},audio:"",dates:{}},servicesFields:["title","service_provider_type","estimated_price","price_to_pay","discount_price","discount"],drugsFields:["name","price","price_to_pay","discount_price","discount"]}},mounted:function(){this.fetchOrder()},methods:{fetchOrder:function(){var e=this;this.$axios.$get("/orders/"+this.$route.params.id).then((function(t){e.order=t}))},playAudio:function(e){e.loading=!0,e.rowFile||this.loadFile(e)},pauseAudio:function(e){e.loading=!0,e.audio&&e.audio.pause()},loadFile:function(e){var t=this;return Object(d.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$axios.$get("/attachments/"+e.id,{responseType:"blob"}).then((function(t){var r=new FileReader;r.readAsDataURL(t),r.onload=function(){e.rowFile=r.result,e.loading=!1,e.ready=!0}}));case 2:case"end":return r.stop()}}),r)})))()}}},n=r(12),component=Object(n.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("header-info",{attrs:{name:"orders",navigation:[{name:"home",link:"dashboard"},{name:"orders",link:"orders"},{name:e.order.uuid,link:"",trans:!1}]}}),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"card card-primary"},[r("div",{staticClass:"card-header"},[r("h3",{staticClass:"card-title"},[e._v("\n            "+e._s(e.order.user.name+" - "+e.order.type+" - "+e.order.status.string)+"\n            "),r("n-link",{attrs:{to:{name:"edit-order"}}},[r("button",{staticClass:"btn btn-outline-light float-left"},[e._v("\n                "+e._s(e.$t("edit"))+"\n              ")])])],1)]),e._v(" "),r("div",{staticClass:"card-body"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"type"}},[e._v(e._s(e.$t("order_type"))+" : ")]),e._v(" "),r("code",{staticClass:"badge badge-info"},[e._v("\n              "+e._s(e.order.type)+" "),r("br")])]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"type"}},[e._v(e._s(e.$t("order_number"))+" : ")]),e._v(" "),r("code",{staticClass:"badge badge-danger"},[e._v("\n              "+e._s(e.order.uuid)+" "),r("br")])]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"username"}},[e._v(e._s(e.$t("username"))+" : ")]),e._v(" "),r("code",[e._v("\n              "+e._s(e.order.user.name)+" "),r("br")])]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"phone"}},[e._v(e._s(e.$t("phone"))+" : ")]),e._v(" "),r("code",[e._v("\n              "+e._s(e.order.user.phone)+"\n            ")])]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"status"}},[e._v(e._s(e.$t("status"))+" : ")]),e._v(" "),r("code",[e._v("\n              "+e._s(e.order.status.string)+" "),r("br")])]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"address"}},[e._v(e._s(e.$t("address"))+" : ")]),e._v(" "),r("code",{attrs:{id:"address"}},[e._v("\n              "+e._s(e.order.address)+" "),r("br")])]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"service_provider"}},[e._v(e._s(e.$t("service_provider"))+" : ")]),e._v(" "),r("code",{attrs:{id:"service_provider"}},[e._v("\n              "+e._s(e.order.service_provider?e.order.service_provider.name:e.$t("service_provider_not_assigned"))+" "),r("br")])]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"is_collected"}},[e._v(e._s(e.$t("is_collected"))+" : ")]),e._v(" "),r("code",{attrs:{id:"is_collected"}},[e._v("\n              "+e._s(e.order.is_collected?e.$t("order_collected"):e.$t("order_not_collected"))+" "),r("br")])]),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-3"},[r("table",{staticClass:"table table-responsive table-hover"},e._l(Object.keys(e.order.prices),(function(t){return r("tr",{key:t.id},[r("th",[e._v(e._s(e.$t(t)))]),e._v(" "),r("td",[e._v(e._s(e.order.prices[t]))])])})),0)]),e._v(" "),r("div",{staticClass:"col-3"},[r("table",{staticClass:"table table-responsive table-hover"},e._l(Object.keys(e.order.profits),(function(t){return r("tr",{key:t.id},[r("th",[e._v(e._s(e.$t(t)))]),e._v(" "),r("td",[e._v(e._s(e.order.profits[t]))])])})),0)]),e._v(" "),r("div",{staticClass:"col-6"},[r("table",{staticClass:"table table-striped table-responsive table-hover"},e._l(Object.keys(e.order.dates),(function(t){return r("tr",{key:t.id},[r("th",[e._v(e._s(e.$t(t)))]),e._v(" "),r("td",[e._v(e._s(e.order.dates[t]?e.$moment(String(e.order.dates[t]),"YYYY-MM-DD").format("LLLL"):""))])])})),0)])])])]),e._v(" "),e.order.services.length?r("div",{staticClass:"card card-primary"},[r("div",{staticClass:"card card-header"},[e._v("\n          Services\n        ")]),e._v(" "),r("div",{staticClass:"card card-body"},[r("b-table",{attrs:{items:e.order.services,fields:e.servicesFields,"show-empty":""}})],1)]):e._e(),e._v(" "),e.order.drugs.length?r("div",{staticClass:"card card-primary"},[r("div",{staticClass:"card card-header"},[e._v("\n          Products\n        ")]),e._v(" "),r("div",{staticClass:"card card-body"},[r("b-table",{attrs:{items:e.order.drugs,fields:e.drugsFields,"show-empty":""}})],1)]):e._e(),e._v(" "),e._l(e.order.attachments,(function(t){return r("div",{key:t.id,staticClass:"card card-indigo"},[t.ready?e._e():r("b-button",{attrs:{variant:"primary"},on:{click:function(r){return e.loadFile(t)}}},[t.loading?r("b-spinner",{attrs:{small:""}}):e._e(),e._v(" Load File\n        ")],1),e._v(" "),"audio"==t.type&&""!=t.rowFile?r("vue-plyr",[r("audio",[r("source",{attrs:{src:t.rowFile,type:t.mime}})])]):e._e(),e._v(" "),"text"==t.type||"image"==t.type?r("b-card-img",{attrs:{src:t.rowFile,thumbnail:"",fluid:""}}):e._e()],1)}))],2)])],1)}),[],!1,null,null,null);t.default=component.exports},326:function(e,t,r){"use strict";var d={name:"HeaderInfo",props:{name:{required:!1,default:"",type:String},navigation:{required:!1,default:"",type:[Array,String]}}},o=r(12),component=Object(o.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"content-header"},[r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"row mb-2"},[r("div",{staticClass:"col-sm-6"},[r("h1",[e._v(e._s(e.$t(e.name)))])]),e._v(" "),r("div",{staticClass:"col-sm-6"},[r("ol",{staticClass:"breadcrumb float-sm-left"},e._l(e.navigation,(function(t){return r("li",{key:t.name,staticClass:"breadcrumb-item",class:t.link?"active":""},[t.link?r("nuxt-link",{attrs:{to:{name:t.link}}},[e._v("\n              "+e._s(e.$t(t.name))+"\n            ")]):r("span",[e._v("\n              "+e._s(!1===t.trans?t.name:e.$t(t.name))+"\n            ")])],1)})),0)])])])])}),[],!1,null,null,null);t.a=component.exports}}]);