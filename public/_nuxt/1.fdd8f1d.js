(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{103:function(e,t,r){"use strict";r.r(t);r(29);var n=r(10),l=r(281),o=r(282),c={layout:"admin",middleware:"auth",components:{LabelInputText:l.a,SelectBox:o.a},data:function(){return{isBusy:!1,rows:1,perPage:0,currentPage:1,filter:{name:"",age:"",email:"",phone:"",address:"",type_id:""},query:{},serviceProviders:[],serviceProviderTypes:[],sortBy:"id",sortDesc:!0,fields:[{key:"id",sortable:!0},{key:"user",sortable:!0},{key:"address",sortable:!1},{key:"type",sortable:!0},{key:"services",sortable:!0},{key:"service_provider",sortable:!1},{key:"status",sortable:!0},{key:"actions",sortable:!1}]}},watch:{currentPage:{handler:function(e){this.fetchData()}}},mounted:function(){var e=this;this.$echo.channel("new-order").listen("NewOrder",(function(t){console.log(t),e.serviceProviders.push(t)})),this.fetchData().catch((function(e){console.log(e)}))},methods:{fetchData:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.query.page=e.currentPage,e.isBusy=!0,t.next=4,e.$axios.$get("orders",{params:e.query}).then((function(t){e.rows=t.meta.total,e.perPage=t.meta.per_page,e.currentPage=t.meta.current_page,e.serviceProviders=t.data,e.isBusy=!1}));case 4:e.$router.push({name:"orders",query:e.query}).catch((function(e){}));case 5:case"end":return t.stop()}}),t)})))()},deleteItem:function(e,t){t.preventDefault(),alert(e)},searchFilter:function(){this.currentPage=1,this.serializeFilter(this.filter,this.query),this.fetchData()},serializeFilter:function(filter,e){for(var t in filter)e[t]=filter[t]}}},d=r(12),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("section",{staticClass:"content-header"},[r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"row mb-2"},[r("div",{staticClass:"col-sm-6"},[r("h1",[e._v(e._s(e.$t("service_providers")))])]),e._v(" "),r("div",{staticClass:"col-sm-6"},[r("ol",{staticClass:"breadcrumb float-sm-left"},[r("li",{staticClass:"breadcrumb-item"},[r("nuxt-link",{attrs:{to:{name:"home"}}},[e._v("\n                "+e._s(e.$t("home"))+"\n              ")])],1),e._v(" "),r("li",{staticClass:"breadcrumb-item active"},[e._v("\n              "+e._s(e.$t("service_providers"))+"\n            ")])])])])])]),e._v(" "),r("section",{staticClass:"filter content"},[r("form",{attrs:{role:"form"},on:{submit:function(t){return t.preventDefault(),e.searchFilter()}}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-2"},[r("label-input-text",{attrs:{label:e.$t("name"),type:"text",placeholder:"Enter Name",name:"name"},model:{value:e.filter.name,callback:function(t){e.$set(e.filter,"name",t)},expression:"filter.name"}})],1),e._v(" "),r("div",{staticClass:"col-2"},[r("label-input-text",{attrs:{label:e.$t("phone"),type:"text",placeholder:"Enter phone",name:"phone"},model:{value:e.filter.phone,callback:function(t){e.$set(e.filter,"phone",t)},expression:"filter.phone"}})],1),e._v(" "),r("div",{staticClass:"col-2"},[r("label-input-text",{attrs:{label:e.$t("email"),type:"email",placeholder:"Enter email",name:"email"},model:{value:e.filter.email,callback:function(t){e.$set(e.filter,"email",t)},expression:"filter.email"}})],1),e._v(" "),r("div",{staticClass:"col-2"},[r("label-input-text",{attrs:{label:e.$t("address"),type:"text",placeholder:"Enter address",name:"address"},model:{value:e.filter.address,callback:function(t){e.$set(e.filter,"address",t)},expression:"filter.address"}})],1),e._v(" "),r("div",{staticClass:"col-2"},[r("select-box",{attrs:{label:e.$t("service_provider_type"),items:e.serviceProviderTypes,name:"type_id"},model:{value:e.filter.type_id,callback:function(t){e.$set(e.filter,"type_id",t)},expression:"filter.type_id"}})],1),e._v(" "),r("div",{staticClass:"col-2"},[r("b-button",{attrs:{type:"submit",variant:"warning"}},[e._v("\n            "+e._s(e.$t("search"))+"\n          ")])],1)])])]),e._v(" "),r("section",{staticClass:"content"},[r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-12"},[r("div",{staticClass:"card card-primary"},[r("div",{staticClass:"card-header"},[r("n-link",{attrs:{to:{name:"create-service-provider"}}},[r("button",{staticClass:"btn btn-outline-light float-left"},[e._v("\n                  "+e._s(e.$t("add_new"))+"\n                ")])])],1),e._v(" "),r("div",{staticClass:"card card-body"},[r("b-table",{attrs:{items:e.serviceProviders,busy:e.isBusy,fields:e.fields,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"per-page":"0","current-page":e.currentPage,responsive:"sm",hover:"",striped:"","show-empty":"",stacked:"md"},on:{"update:busy":function(t){e.isBusy=t},"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t}},scopedSlots:e._u([{key:"cell(user)",fn:function(data){return[r("span",[e._v(e._s(data.item.user.name))])]}},{key:"cell(address)",fn:function(data){return[r("span",[e._v(e._s(data.item.address))])]}},{key:"cell(type)",fn:function(data){return[r("span",[e._v(e._s(data.item.type))])]}},{key:"cell(services)",fn:function(data){return[r("span",[e._v(e._s(data.item.services))])]}},{key:"cell(service_provider)",fn:function(data){return[data.item.service_provider?r("span",[e._v(e._s(data.item.service_provider.name))]):e._e()]}},{key:"cell(status)",fn:function(data){return[0==data.item.status.code?r("b-badge",{attrs:{variant:"warning"}},[e._v("\n                    "+e._s(data.item.status.string)+"\n                  ")]):e._e(),e._v(" "),1==data.item.status.code?r("b-badge",{attrs:{variant:"primary"}},[e._v("\n                    "+e._s(data.item.status.string)+"\n                  ")]):2==data.item.status.code?r("b-badge",{attrs:{variant:"secondary"}},[e._v("\n                    "+e._s(data.item.status.string)+"\n                  ")]):3==data.item.status.code?r("b-badge",{attrs:{variant:"success"}},[e._v("\n                    "+e._s(data.item.status.string)+"\n                  ")]):e._e()]}},{key:"cell(last_seen)",fn:function(data){return[data.item.last_seen?r("span",[e._v("\n                    "+e._s(e.$moment(String(data.item.last_seen)).format("LLLL"))+"\n                  ")]):e._e()]}},{key:"cell(actions)",fn:function(data){return[r("b-button",{attrs:{to:{name:"show-order",params:{id:data.item.id}},variant:"info",size:"sm"}},[e._v("\n                    Show\n                  ")]),e._v(" "),r("b-button",{attrs:{to:{name:"edit-order",params:{id:data.item.id}},variant:"secondary",size:"sm"}},[e._v("\n                    Edit\n                  ")]),e._v(" "),r("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.deleteItem(data.item.id,t)}}},[e._v("\n                    Delete\n                  ")])]}}])})],1)]),e._v(" "),r("b-pagination",{attrs:{"total-rows":e.rows,"per-page":e.perPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)])])]),e._v(" "),e._m(0)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"card card-primary"},[t("div",{staticClass:"card-header"})])}],!1,null,null,null);t.default=component.exports},281:function(e,t,r){"use strict";r(11),r(9);var n={name:"LabelInputText",props:{label:{required:!1,default:"",type:String},value:{required:!0,type:[String,Number],default:""},type:{required:!0,default:"text",type:String},placeholder:{required:!1,default:"",type:String},name:{required:!0,type:String}},computed:{idName:function(){return this.label.toLowerCase().replace(" ","-")+"-"+Math.floor(100*Math.random())}},methods:{updateValue:function(e){this.$emit("input",e)}}},l=r(12),component=Object(l.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-group"},[e.label?r("label",{staticClass:"col-form-label",attrs:{for:e.idName}},[e._v(e._s(e.label))]):e._e(),e._v(" "),r("div",{staticClass:"input-group mb-3"},[r("input",{staticClass:"form-control",attrs:{id:e.idName,name:e.name,type:e.type,placeholder:e.placeholder},domProps:{value:e.value},on:{input:function(t){return e.updateValue(t.target.value)}}})])])}),[],!1,null,null,null);t.a=component.exports},282:function(e,t,r){"use strict";r(11),r(9);var n={name:"Selectbox",props:{label:{required:!1,default:"",type:String},items:{required:!0,type:[Array]},value:{required:!0,type:[String,Number]},name:{required:!0,type:String}},computed:{idName:function(){return this.label.toLowerCase().replace(" ","-")+"-"+Math.floor(100*Math.random())}},methods:{updateValue:function(e){this.$emit("input",e)}}},l=r(12),component=Object(l.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form-group"},[e.label?r("label",{attrs:{for:e.idName}},[e._v(e._s(e.label))]):e._e(),e._v(" "),r("select",{staticClass:"form-control",attrs:{id:e.idName,name:e.name},domProps:{value:e.value},on:{input:function(t){return e.updateValue(t.target.value)}}},[r("option",{attrs:{value:"",selected:""}},[e._v("\n      "+e._s(e.$t("select"))+"\n    ")]),e._v(" "),e._l(e.items,(function(t){return r("option",{key:t.id,domProps:{value:t.id,selected:t.id==e.value?"selected":""}},[e._v("\n      "+e._s(t.title)+"\n    ")])}))],2)])}),[],!1,null,null,null);t.a=component.exports}}]);